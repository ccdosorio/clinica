(this["webpackJsonpapp-ingreso-nd"]=this["webpackJsonpapp-ingreso-nd"]||[]).push([[43],{1726:function(e,a,t){"use strict";t.r(a);var n=t(25),r=t.n(n),c=t(42),s=t(505),l=t(0),i=t.n(l),o=t(24),m=t(528),u=t(548),d=t(518),p=t(97),f=function(e){var a=Object(l.useState)(!1),t=Object(s.a)(a,2),n=t[0],o=t[1],f=function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.values.diagnostic=a.value;case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),E=function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.values.medicine=a.value;case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),g=function(){var a=Object(c.a)(r.a.mark((function a(t){var n,c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={idconsultation:e.idconsultation,iddiagnostic:t.diagnostic,idmedicine:t.medicine,quantity:t.quantity,days:t.days,description:t.description},a.next=3,p.a.post("consulta/create/prescription",n);case 3:return 200===(c=a.sent).code&&(d.NotificationManager.success(c.message,c.status),o(!0)),setTimeout((function(){v.values.quantity="",v.values.days="",v.values.description="",o(!1)}),2e3),a.next=8,e.getPrescriptions();case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),v=Object(m.b)({initialValues:{diagnostic:0,medicine:0,quantity:"",days:"",description:""},validate:function(e){var a={};return e.diagnostic||(a.diagnostic="Requerido"),e.medicine||(a.medicine="Requerido"),e.quantity||(a.quantity="Requerido"),e.days||(a.days="Requerido"),e.description||(a.description="Requerido"),a},onSubmit:function(e){g(e)}});return i.a.createElement("div",{className:"col-lg-6 mb-3"},i.a.createElement("div",{className:"card",style:{width:"100%",height:"100%"}},i.a.createElement("div",{className:"card-header bg-transparent"},i.a.createElement("h3",{className:"card-title"},"Receta")),n?i.a.createElement("div",{className:"card-body"},i.a.createElement("span",{className:"spinner-glow spinner-glow-primary mr-5"})):i.a.createElement("form",{onSubmit:v.handleSubmit},i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"form-group col-md-12"},i.a.createElement("label",{htmlFor:"diagnostic",className:"ul-form__label"},"Diagn\xf3stico:"),i.a.createElement(u.a,{className:"basic-single",classNamePrefix:"select",id:"diagnostic",name:"diagnostic",options:e.diagnostics,onChange:f,defaultValue:v.values.diagnostic}),v.errors.diagnostic?i.a.createElement("small",{className:"ul-form__text form-text text-danger"},v.errors.diagnostic):null),i.a.createElement("div",{className:"form-group col-md-12"},i.a.createElement("label",{htmlFor:"medicine",className:"ul-form__label"},"Medicamento:"),i.a.createElement(u.a,{className:"basic-single",classNamePrefix:"select",id:"medicine",name:"medicine",options:e.medicines,onChange:E,defaultValue:v.values.medicine}),v.errors.medicine?i.a.createElement("small",{className:"ul-form__text form-text text-danger"},v.errors.medicine):null),i.a.createElement("div",{className:"form-group col-md-6"},i.a.createElement("label",{htmlFor:"inputEmail4",className:"ul-form__label"},"Cantidad:"),i.a.createElement("input",{type:"number",className:"form-control",id:"quantity",placeholder:"Cantidad",name:"quantity",value:v.values.quantity,onChange:v.handleChange}),v.errors.quantity?i.a.createElement("small",{className:"ul-form__text form-text text-danger"},v.errors.quantity):null),i.a.createElement("div",{className:"form-group col-md-6"},i.a.createElement("label",{htmlFor:"inputEmail4",className:"ul-form__label"},"D\xedas:"),i.a.createElement("input",{type:"number",className:"form-control",id:"days",placeholder:"D\xedas",name:"days",value:v.values.days,onChange:v.handleChange}),v.errors.days?i.a.createElement("small",{className:"ul-form__text form-text text-danger"},v.errors.days):null),i.a.createElement("div",{className:"form-group col-md-12"},i.a.createElement("label",{htmlFor:"inputEmail4",className:"ul-form__label"},"Descripci\xf3n:"),i.a.createElement("textarea",{className:"form-control",name:"description",id:"description",cols:"10",rows:"5",placeholder:"Descripci\xf3n",onChange:v.handleChange,value:v.values.description}),v.errors.description?i.a.createElement("small",{className:"ul-form__text form-text text-danger"},v.errors.description):null))),i.a.createElement("div",{className:"card-footer bg-transparent"},i.a.createElement("div",{className:"mc-footer"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-12"},i.a.createElement("button",{type:"submit",className:"btn  btn-outline-secondary m-1 footer-delete-right"},"Guardar"))))))))},E=function(e){var a=Object(l.useState)(!1),t=Object(s.a)(a,2),n=t[0],o=t[1],f=function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.values.diagnostic=a.value;case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),E=function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.values.article=a.value;case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),g=function(){var a=Object(c.a)(r.a.mark((function a(t){var n,c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={idconsultation:e.idconsultation,iddiagnostic:t.diagnostic,idarticle:t.article,quantity:t.quantity,days:t.days,description:t.description},a.next=3,p.a.post("consulta/create/prescription/internal",n);case 3:return 200===(c=a.sent).code&&(d.NotificationManager.info(c.message,c.status),o(!0)),setTimeout((function(){v.values.quantity="",v.values.days="",v.values.description="",o(!1)}),2e3),a.next=8,e.getPrescriptions();case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),v=Object(m.b)({initialValues:{diagnostic:0,article:0,quantity:"",days:"",description:""},validate:function(e){var a={};return e.diagnostic||(a.diagnostic="Requerido"),e.article||(a.article="Requerido"),e.quantity||(a.quantity="Requerido"),e.days||(a.days="Requerido"),e.description||(a.description="Requerido"),a},onSubmit:function(e){g(e)}});return i.a.createElement("div",{className:"col-lg-6 mb-3"},i.a.createElement("div",{className:"card",style:{width:"100%",height:"100%"}},i.a.createElement("div",{className:"card-header bg-transparent"},i.a.createElement("h3",{className:"card-title"},"Receta Interna")),n?i.a.createElement("div",{className:"card-body"},i.a.createElement("span",{className:"spinner-glow spinner-glow-primary mr-5"})):i.a.createElement("form",{onSubmit:v.handleSubmit},i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"form-group col-md-12"},i.a.createElement("label",{htmlFor:"diagnostic",className:"ul-form__label"},"Diagn\xf3stico:"),i.a.createElement(u.a,{className:"basic-single",classNamePrefix:"select",id:"diagnostic",name:"diagnostic",options:e.diagnostics,onChange:f,defaultValue:v.values.diagnostic}),v.errors.diagnostic?i.a.createElement("small",{className:"ul-form__text form-text text-danger"},v.errors.diagnostic):null),i.a.createElement("div",{className:"form-group col-md-12"},i.a.createElement("label",{htmlFor:"article",className:"ul-form__label"},"Art\xedculo:"),i.a.createElement(u.a,{className:"basic-single",classNamePrefix:"select",id:"article",name:"article",options:e.articles,onChange:E,defaultValue:v.values.article}),v.errors.article?i.a.createElement("small",{className:"ul-form__text form-text text-danger"},v.errors.article):null),i.a.createElement("div",{className:"form-group col-md-6"},i.a.createElement("label",{htmlFor:"inputEmail4",className:"ul-form__label"},"Cantidad:"),i.a.createElement("input",{type:"number",className:"form-control",id:"quantity2",placeholder:"Cantidad",name:"quantity",value:v.values.quantity,onChange:v.handleChange}),v.errors.quantity?i.a.createElement("small",{className:"ul-form__text form-text text-danger"},v.errors.quantity):null),i.a.createElement("div",{className:"form-group col-md-6"},i.a.createElement("label",{htmlFor:"inputEmail4",className:"ul-form__label"},"D\xedas:"),i.a.createElement("input",{type:"number",className:"form-control",id:"days2",placeholder:"D\xedas",name:"days",value:v.values.days,onChange:v.handleChange}),v.errors.days?i.a.createElement("small",{className:"ul-form__text form-text text-danger"},v.errors.days):null),i.a.createElement("div",{className:"form-group col-md-12"},i.a.createElement("label",{htmlFor:"inputEmail4",className:"ul-form__label"},"Descripci\xf3n:"),i.a.createElement("textarea",{className:"form-control",name:"description",id:"description2",cols:"10",rows:"5",placeholder:"Descripci\xf3n",onChange:v.handleChange,value:v.values.description}),v.errors.description?i.a.createElement("small",{className:"ul-form__text form-text text-danger"},v.errors.description):null))),i.a.createElement("div",{className:"card-footer bg-transparent"},i.a.createElement("div",{className:"mc-footer"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-12"},i.a.createElement("button",{type:"submit",className:"btn  btn-outline-secondary m-1 footer-delete-right"},"Guardar"))))))))},g=t(960),v=t(961);a.default=function(e){var a=Object(l.useState)([]),t=Object(s.a)(a,2),n=t[0],m=t[1],u=Object(l.useState)([]),b=Object(s.a)(u,2),N=b[0],h=b[1],y=Object(l.useState)([]),x=Object(s.a)(y,2),w=x[0],_=x[1],q=Object(l.useState)([]),C=Object(s.a)(q,2),j=C[0],O=C[1],D=Object(l.useState)([]),R=Object(s.a)(D,2),k=R[0],F=R[1],S=function(){var a=Object(c.a)(r.a.mark((function a(){var t,n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t={idConsultation:e.match.params.idconsultation,select:!0},a.next=3,p.a.post("consulta/get/diagnostics",t);case 3:n=a.sent,m(n);case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),M=function(){var e=Object(c.a)(r.a.mark((function e(){var a,t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={select:!0},e.next=3,p.a.post("consulta/medicines",a);case 3:t=e.sent,h(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(c.a)(r.a.mark((function e(){var a,t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={select:!0},e.next=3,p.a.post("consulta/articles",a);case 3:t=e.sent,_(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var a=Object(c.a)(r.a.mark((function a(){var t,n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t={idconsultation:e.match.params.idconsultation},a.next=3,p.a.post("consulta/get/prescriptions",t);case 3:n=a.sent,O(n);case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),T=function(){var a=Object(c.a)(r.a.mark((function a(){var t,n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t={idconsultation:e.match.params.idconsultation},a.next=3,p.a.post("consulta/get/prescriptions/internals",t);case 3:n=a.sent,F(n);case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(l.useEffect)((function(){S(),M(),P(),V(),T()}),[]),i.a.createElement("div",null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-12"},i.a.createElement(o.a,{to:"/invoice/prescription/".concat(e.match.params.idconsultation)},i.a.createElement("button",{className:"btn  btn-info m-1 footer-delete-right"},"Generar Receta")),i.a.createElement(o.a,{to:"/employee/372/".concat(e.match.params.idconsultation,"/consultation#step4")},i.a.createElement("button",{type:"submit",className:"btn  btn-outline-secondary m-1 footer-delete-right"},"Regresar a Consulta")))),i.a.createElement("section",{className:"basic-action-bar"},i.a.createElement("div",{className:"row"},i.a.createElement(f,{diagnostics:n,medicines:N,idconsultation:e.match.params.idconsultation,getPrescriptions:V}),i.a.createElement(E,{diagnostics:n,articles:w,idconsultation:e.match.params.idconsultation,getPrescriptions:T})),i.a.createElement(d.NotificationContainer,null)),i.a.createElement("section",{className:"basic-action-bar"},i.a.createElement("div",{className:"row"},i.a.createElement(g.a,{prescriptions:j,title:"Recetas"}),i.a.createElement(v.a,{prescriptions:k,title:"Recetas Creadas"}))))}},960:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(113),s=t(853);a.a=function(e){var a=e.prescriptions,t=e.title;return r.a.createElement("div",{className:"col-lg-6 mb-3"},r.a.createElement(c.a,{title:t,className:"mb-4"},0===a.length?r.a.createElement("p",{className:"text-muted"},"No hay recetas creadas"):r.a.createElement(r.a.Fragment,null,a.map((function(e,a){return r.a.createElement("div",{key:a,className:"d-flex flex-column border-bottom flex-sm-row align-items-sm-center mb-3"},r.a.createElement("div",{className:"flex-grow-1"},r.a.createElement("h5",null,r.a.createElement("b",null,e.descripcion)),r.a.createElement("p",{className:"m-0 text-small text-muted"},"Cantidad: ",e.cantidad),r.a.createElement("p",{className:"m-0 text-small text-muted"},"D\xedas: ",e.dias),r.a.createElement("p",{className:"m-0 text-small text-muted"},"Diagn\xf3stico: ",e.diagnostico),r.a.createElement("p",null,"Fecha Consulta:"," ",Object(s.default)(new Date(e.fechaConsulta?e.fechaConsulta:new Date).getTime(),"dd MMM, yyyy")),r.a.createElement("p",null,"Enfermedad: ",e.enfermedad),r.a.createElement("p",null,"Medicamento: ",e.medicamento)))})))))}},961:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(113),s=t(853);a.a=function(e){var a=e.prescriptions,t=e.title;return r.a.createElement("div",{className:"col-lg-6 mb-3"},r.a.createElement(c.a,{title:t,className:"mb-4"},0===a.length?r.a.createElement("p",{className:"text-muted"},"No hay recetas creadas"):r.a.createElement(r.a.Fragment,null,a.map((function(e,a){return r.a.createElement("div",{key:a,className:"d-flex flex-column border-bottom flex-sm-row align-items-sm-center mb-3"},r.a.createElement("div",{className:"flex-grow-1"},r.a.createElement("h5",null,r.a.createElement("b",null,e.descripcion)),r.a.createElement("p",{className:"m-0 text-small text-muted"},"Cantidad: ",e.cantidad),r.a.createElement("p",{className:"m-0 text-small text-muted"},"D\xedas: ",e.dias),r.a.createElement("p",{className:"m-0 text-small text-muted"},"Diagn\xf3stico: ",e.diagnostico),r.a.createElement("p",null,"Fecha Consulta:"," ",Object(s.default)(new Date(e.fechaConsulta?e.fechaConsulta:new Date).getTime(),"dd MMM, yyyy")),r.a.createElement("p",null,"Enfermedad: ",e.enfermedad),r.a.createElement("p",null,"Art\xedculo: ",e.articulo)))})))))}}}]);
//# sourceMappingURL=43.984def62.chunk.js.map