(this["webpackJsonpapp-ingreso-nd"]=this["webpackJsonpapp-ingreso-nd"]||[]).push([[67],{1697:function(e,a,t){"use strict";t.r(a);var n=t(25),r=t.n(n),l=t(42),c=t(505),s=t(0),i=t.n(s),o=t(47),m=t(161),p=t(558),u=t(30),d=t(577),f=t(522),E=t.n(f),g=t(550),b=t.n(g),N=t(548),v=t(97);a.default=function(e){var a=Object(s.useState)([]),t=Object(c.a)(a,2),n=t[0],f=t[1],g=Object(s.useState)(0),h=Object(c.a)(g,2),x=h[0],j=h[1],w=Object(s.useState)(10),y=Object(c.a)(w,2),O=y[0],C=y[1],k=Object(s.useState)(0),S=Object(c.a)(k,2),z=S[0],A=S[1],B=Object(s.useState)([]),P=Object(c.a)(B,2),I=P[0],L=P[1],D=Object(s.useState)([]),F=Object(c.a)(D,2),_=F[0],J=F[1],M=function(){var e=Object(l.a)(r.a.mark((function e(){var a,t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={select:!1,no_pagina:x,paginas:O},e.next=3,v.a.post("empleado/all",a);case 3:t=e.sent,A(t[0].cantidad),f(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var a=Object(l.a)(r.a.mark((function a(t){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.history.push("/employee/".concat(t,"/edit"));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(r.a.mark((function e(a){var t,n,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.selected*O,n={select:!1,no_pagina:t,paginas:O},e.next=4,v.a.post("empleado/all",n);case 4:l=e.sent,f(l),j(t);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),W=function(){var e=Object(l.a)(r.a.mark((function e(a){var t,n,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=parseInt(a.target.value),C(t),n={select:!1,no_pagina:x,paginas:t},e.next=5,v.a.post("empleado/all",n);case 5:l=e.sent,f(l),j(x);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),q=function(){var e=Object(l.a)(r.a.mark((function e(a){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={idempleado:a},e.next=3,v.a.post("baja-empleado",t);case 3:if(!(n=e.sent)){e.next=7;break}return e.next=7,b.a.fire({title:"\xa1Eliminado!",text:n.message,icon:"success",timer:2e3});case 7:return e.next=9,M();case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),G=function(){var e=Object(l.a)(r.a.mark((function e(){var a,t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("empleado/all");case 2:a=e.sent,t=[],n=[],a.map((function(e){var a=e.nombres,r=e.codigo,l=e.idempleado;null!==a&&""!==a&&t.push({value:l,label:a}),n.push({value:l,label:r})})),L(t),J(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){M(),G()}),[]),i.a.createElement("div",null,i.a.createElement(o.a,{routeSegments:[{name:"Inicio",path:"/home"},{name:"Lista de Empleados"}]}),n.length<1?i.a.createElement(o.c,null):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"mb-12"},i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-4 form-group mb-4"},i.a.createElement("label",{htmlFor:""},"Nombre Empleado: "),i.a.createElement(N.a,{className:"basic-single",classNamePrefix:"select",name:"color",options:I,onChange:function(a){e.history.push("/employee/".concat(a.value,"/edit"))}})),i.a.createElement("div",{className:"col-md-4 form-group mb-4"},i.a.createElement("label",{htmlFor:""},"C\xf3digo Empleado:"),i.a.createElement(N.a,{className:"basic-single",classNamePrefix:"select",name:"color",options:_,onChange:function(a){e.history.push("/employee/".concat(a.value,"/edit"))}})))),i.a.createElement(m.a,{elevation:6,className:"w-100"},i.a.createElement("div",{className:"row px-4 mt-3"},i.a.createElement("div",{className:"col-sm-12 col-md-6 mb-2"},i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement("span",{className:"mr-1"},"Mostrar"),i.a.createElement("div",{className:"mr-1"},i.a.createElement("select",{className:"form-control",onChange:W,value:O},i.a.createElement("option",{value:10},"10"),i.a.createElement("option",{value:25},"25"),i.a.createElement("option",{value:50},"50"),i.a.createElement("option",{value:100},"100"))),i.a.createElement("span",null,"registros")))),i.a.createElement(p.a,{style:{minWidth:750}},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{className:"pl-sm-24"},"Id"),i.a.createElement("th",{className:"px-0"},"Empresa"),i.a.createElement("th",{className:"px-0"},"Nombre"),i.a.createElement("th",{className:"px-0"},"Apellido"),i.a.createElement("th",{className:"px-0"},"Codigo"),i.a.createElement("th",{className:"px-0"},"Estado"),i.a.createElement("th",{className:"px-0"},"Dar de baja"),i.a.createElement("th",{className:"px-0"},"Administrar"))),i.a.createElement("tbody",null,n.map((function(e){return i.a.createElement("tr",{key:e.idempleado},i.a.createElement("td",{className:"pl-sm-24 capitalize",align:"left"},e.idempleado),i.a.createElement("td",{className:"pl-0 capitalize",align:"left"},e.empresa||i.a.createElement("p",{className:"text-muted"},"Sin empresa")),i.a.createElement("td",{className:"pl-0 capitalize",align:"left"},e.nombres||i.a.createElement("p",{className:"text-muted"},"Sin nombre")),i.a.createElement("td",{className:"pl-0 capitalize",align:"left"},e.apellidos||i.a.createElement("p",{className:"text-muted"},"Sin apellidos")),i.a.createElement("td",{className:"pl-0 capitalize",align:"left"},e.codigo||i.a.createElement("p",{className:"text-muted"},"Sin c\xf3digo")),i.a.createElement("td",{className:"pl-0 capitalize"},i.a.createElement("small",{className:Object(u.a)({"badge rounded-pill text-white px-8 py-2":!0,"bg-success":"A"===e.estado,"bg-danger":"I"===e.estado})},e.estado)),i.a.createElement("td",{className:"pl-0"},i.a.createElement("div",{className:"d-flex"},i.a.createElement("div",{className:"cursor-pointer mr-3"},i.a.createElement(d.a,{className:"text-danger",size:18,onClick:function(){b.a.fire({title:"\xbfEstas seguro?",text:"\xa1No podr\xe1s revertir este cambio!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar",cancelButtonText:"No"}).then((function(a){a.value?q(e.idempleado):b.a.fire({title:"Cencelado!",text:"Permiso denegado",icon:"error",timer:1500})}))}})))),i.a.createElement("td",{className:"pl-0"},i.a.createElement("div",{className:"d-flex"},i.a.createElement("i",{className:"i-Arrow-Right mr-4 font-weight-900 text-primary cursor-pointer",onClick:function(){return R(e.idempleado)}}))))})))),i.a.createElement("div",{className:"px-3 pb-3 mt-3 d-flex flex-row justify-content-end"},i.a.createElement(E.a,{previousLabel:"Anterior",nextLabel:"Siguiente",breakLabel:"...",breakClassName:"break-me",pageCount:Math.ceil(z/O),marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:T,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"})))))}}}]);
//# sourceMappingURL=67.50f7c8e8.chunk.js.map